[supervice]
loglevel=DEBUG
logfile=supervice_test.log
pidfile=supervice_test.pid
socket=/tmp/supervice_test.sock

[program:sleeper]
command=python3 -c "import time; [print(f'sleeper tick {i}', flush=True) or time.sleep(1) for i in range(999)]"
autostart=true
autorestart=true
startsecs=2
stdout_logfile=sleeper.log
stderr_logfile=sleeper_err.log

[program:failer]
command=python3 -c "import time; time.sleep(3); exit(1)"
autostart=true
autorestart=true
startretries=2
startsecs=1
stdout_logfile=failer.log
stderr_logfile=failer_err.log

[program:echo]
command=python3 -c "print('hello from echo', flush=True); import time; time.sleep(999)"
autostart=false
autorestart=false
stdout_logfile=echo.log

[program:multi]
command=python3 -c "import os,time; print(f'worker pid={os.getpid()}', flush=True); time.sleep(999)"
numprocs=3
autostart=true
autorestart=true
stdout_logfile=multi.log

[group:workers]
programs=multi
